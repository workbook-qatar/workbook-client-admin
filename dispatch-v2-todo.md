# Dispatch V2 Enhancement TODO

## Phase 1: UI Improvements
- [ ] Reduce trip card size (more compact layout)
- [ ] Improve spacing and remove unnecessary padding
- [ ] Make cards more information-dense
- [ ] Add collapsible sections for better space utilization

## Phase 2: Create Trip Feature
- [ ] Create Trip dialog with multi-step wizard
- [ ] Booking selection interface with search and filters
- [ ] Route builder with drag-and-drop stop ordering
- [ ] Vehicle capacity validation
- [ ] Time constraint checking
- [ ] Distance and duration calculation
- [ ] Trip preview before creation

## Phase 3: Driver Assignment
- [ ] Assign Driver dialog with driver list
- [ ] Show driver availability status
- [ ] Display current workload and capacity
- [ ] Show driver location and proximity to first stop
- [ ] Vehicle type and capacity matching
- [ ] Reassign driver functionality
- [ ] Conflict detection (overlapping trips)

## Phase 4: Edit Trip
- [ ] Edit Trip dialog
- [ ] Add/remove stops
- [ ] Reorder stops with drag-and-drop
- [ ] Modify staff assignments
- [ ] Update trip timing
- [ ] Recalculate route and duration

## Phase 5: Split Trip
- [ ] Split Trip dialog
- [ ] Select split point in timeline
- [ ] Create two separate trips
- [ ] Assign different drivers to each
- [ ] Maintain booking integrity

## Phase 6: Filters & Search
- [ ] Filter by trip status (Active/Upcoming/Completed)
- [ ] Filter by driver
- [ ] Filter by date range
- [ ] Search by trip ID, customer, or address
- [ ] Quick filter buttons

## Phase 7: Bulk Actions
- [ ] Select multiple unassigned bookings
- [ ] Create trip from selected bookings
- [ ] Auto-optimize route
- [ ] Suggest best driver based on criteria

## Phase 8: Driver Availability Panel
- [ ] Show all drivers in a panel
- [ ] Real-time availability status
- [ ] Current trip information
- [ ] Vehicle details and capacity
- [ ] Distance from depot/last stop
- [ ] Today's completed trips count

## Phase 9: Additional Features
- [ ] Trip templates for recurring routes
- [ ] Auto-assign based on proximity
- [ ] Trip notes and special instructions
- [ ] Export trip details as PDF
- [ ] Print trip sheet for driver
- [ ] Trip history and analytics
- [ ] Notifications for trip updates

## Phase 10: Validation & Business Logic
- [ ] Validate staff availability (no double-booking)
- [ ] Check vehicle capacity limits
- [ ] Ensure time windows are respected
- [ ] Validate booking time slots
- [ ] Check driver working hours
- [ ] Prevent overlapping trips for same driver
